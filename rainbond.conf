server {
	listen    0.0.0.0:80;

	server_name    lang.goodrain.me;


	access_log off;

	rewrite ^/(.*)$ /artifactory/pkg_lang/$1 break;

	location / {

		proxy_set_header    Host    $http_host;

		proxy_set_header    X-Forwarded-For    $proxy_add_x_forwarded_for;

		proxy_set_header    X-Real-IP    $remote_addr;

		proxy_connect_timeout                   60s;
		proxy_send_timeout                      600s;
		proxy_read_timeout                      600s;

		proxy_buffering                         off;
		proxy_buffer_size                       4k;
		proxy_buffers                           4 4k;
		proxy_request_buffering                 on;

		proxy_http_version                      1.1;

		proxy_cookie_domain                     off;
		proxy_cookie_path                       off;

		client_max_body_size        1m;

		access_log off;

		proxy_redirect off;

		set $target 'default';

		proxy_pass http://127.0.0.1:8081;

	}

}
server {
	listen    0.0.0.0:80;

	server_name    maven.goodrain.me;


	access_log off;

	location / {

		rewrite ^/(.*)$ /artifactory/libs-release/$1 break;

		proxy_set_header    Host    $http_host;

		proxy_set_header    X-Forwarded-For    $proxy_add_x_forwarded_for;

		proxy_set_header    X-Real-IP    $remote_addr;

		proxy_connect_timeout                   60s;
		proxy_send_timeout                      600s;
		proxy_read_timeout                      600s;

		proxy_buffering                         off;
		proxy_buffer_size                       4k;
		proxy_buffers                           4 4k;
		proxy_request_buffering                 on;

		proxy_http_version                      1.1;

		proxy_cookie_domain                     off;
		proxy_cookie_path                       off;

		client_max_body_size        1m;

		access_log off;

		proxy_redirect off;

		set $target 'default';

		proxy_pass http://127.0.0.1:8081;

	}

}